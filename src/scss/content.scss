/* =====================================================
   Variables
===================================================== */
$sidebar-w: 345px;
$sidebar-w-sm: 90px;
$drawer-w: 450px;

$nav-bg: #062249;
$nav-bg-dark: #062249;
$nav-text: #e8eef6;
$accent: #ff6b00;
$border-light: #e9edf3;
$light-grey:#F2F2F2;
$min-grey:#A5A5A5;
$dark-grey:#646464;
$bg-disabled:#dadada;
$light-blue:#004E98;
$pink:#E41669;
$orange:#FF6721;


/* =====================================================
   Page：共用模組外框 / 表格 / 頁頭 / 建立模板
===================================================== */
.page {

  /* ---------- 模組卡 ---------- */
  .module-card {
    background: transparent;
    border-radius: .5rem;

    &.module-nobg { background: transparent !important; }

    .table-responsive {
      position: relative;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      cursor: grab;
      &.is-dragging { cursor: grabbing; }

      &.has-scroll {
        &::before, &::after {
          content: "";
          position: absolute;
          top: 0; bottom: 0; width: 16px;
          pointer-events: none; z-index: 2; opacity: 0;
          transition: opacity .2s ease;
        }
        &::before { left: 0;  background: linear-gradient(to right, rgba(255,255,255,.95), rgba(255,255,255,0)); }
        &:not(.at-left)::before  { opacity: 1; }
        &:not(.at-right)::after  { opacity: 1; }
      }
    }

    /* Tabs（page03/page04 共用） */
    .gs-tabs-row {
      padding-bottom: 0 !important;
      border-bottom: 2px solid $border-light;

      .gs-tabs {
        display: flex;
        gap: .8rem;

        .nav-link {
          border-radius: .5rem .5rem 0 0;
          font-weight: 700;
          padding: .45rem 1.2rem;
          background: #e3e3e3;
          color: #555;
          border: none;
          transition: all .15s ease;

          &:hover { background: #d8d8d8; color: #222; }
          &.active { background: $nav-bg; color: #fff; }
        }

        &.gs-tabs-top {
          .nav-link.disabled,
          .nav-link[aria-disabled="true"] {
            background-color: transparent !important;
            color: #adb5bd !important;
            border-color: transparent !important;
            opacity: .7;
            cursor: not-allowed !important;
            pointer-events: none !important;
            box-shadow: none !important;
          }
        }
      }

      .btn-orange { white-space: nowrap; font-weight: 600; }
    }

    /* 表格統一規格 */
    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0 1rem;

      thead {
        tr { background: none !important; box-shadow: none !important; border: none !important; }
        th {
          font-weight: 700;
          color: $nav-bg;
          background: transparent;
          border: none;
          white-space: nowrap;
        }
      }

      tbody {
        tr {
          background: #fff;
          box-shadow: 0 0 0 1px #dfdfdf;
          border-radius: .25rem;
          overflow: hidden;
          transition: box-shadow .2s ease;

          &:hover { box-shadow: 0 4px 10px rgba(0,0,0,.08); }

          td {
            vertical-align: middle;
            padding: 1rem 1.25rem;
            color: $nav-bg;
            font-size: .95rem;
            white-space: nowrap;
            border-top: 0;

            &:first-child { font-weight: 600; }
            &:last-child  { text-align: right; }
          }

          td:first-child  { border-radius: .25rem 0 0 .25rem; }
          td:last-child   { border-radius: 0 .25rem .25rem 0; }
        }
      }
    }

    /* 可拖拉寬表格 */
    .gs-table {
      border-color: $border-light;
      table-layout: auto;
      width: max-content;
      min-width: 880px;

      thead th, tbody td { white-space: nowrap; }
      .cell-wrap { white-space: normal; }

      .badge-chip {
        background: #B3B7C6;
        color: $nav-bg-dark;
        border-radius: 999px;
        padding: .25rem .6rem;
        font-weight: 700;
      }
      .badge-state {
        border-radius: 999px;
        padding: .25rem .6rem;
        font-weight: 700;
      }

      .btn-icon {
        width: 32px; height: 32px;
        border-radius: .4rem;
        background: $dark-grey;
        color: #fff;
        display: inline-flex; align-items: center; justify-content: center;
        border: 1px solid transparent;

        &:hover, &:focus { background-color: darken($dark-grey, 5%); color: #fff; }
        &:active { background-color: darken($dark-grey, 10%) !important; color: #fff !important; }
        &:focus-visible { outline: none; box-shadow: 0 0 0 0.2rem rgba(6,34,73,.25); }
      }
    }

    .table-footer {
      .btn-group .btn.active {
        background: $nav-bg;
        color: #fff;
        border-color: $nav-bg;
      }
    }

    @media (max-width: 768px) {
      .gs-table { min-width: 960px; }
    }
  }

  /* ---------- 頁頭 ---------- */
  .page-head {
    display: block; padding-top: 4px; text-align: left;

    .back-link {
      display: inline-flex; align-items: center; gap: 8px;
      color: $nav-bg; font-weight: 700; text-decoration: none; margin-bottom: 8px;
      i { font-size: 1rem; line-height: 1; }
      &:hover { text-decoration: underline; }
    }

    .title { margin: 0 0 6px; font-size: 1.5rem; font-weight: 800; color: $nav-bg; line-height: 1.2; }

    .subline {
      display: flex; align-items: center; gap: 12px;

      .subtitle { font-size: .875rem; color: #7b8694; white-space: nowrap; }

      &::after { content: ""; flex: 1 1 auto; height: 1px; background: #e5e9ef; }
    }
  }

  /* ---------- 建立模板 ---------- */
  .create-tmpl {
    .card {
      text-align: left; border-radius: .75rem;

      .card-body {
        .param-chips .chip {
          color: $orange; border-color: $orange; border-radius: 999px; padding-inline: .75rem;
          &:hover, &:focus { background-color: $orange; color: #fff; }
          &:active { color: #fff !important; background-color: darken($orange, 10%) !important; }
          &:focus-visible { outline: none; box-shadow: 0 0 0 0.2rem rgba(6,34,73,.25); background-color: darken($orange, 10%); }
          &.is-active { background: $orange; color: #fff; border-color: $orange; }
        }
        .preview-canvas { border-color: $border-light !important; }
        .preview-meta   { border: 1px solid $border-light; }
      }
    }
  }
}

/* 寬螢幕：表格貼滿容器 */
@media (min-width: 1800px) {
  .page .module-card {
    .table-responsive { overflow-x: visible; cursor: default;
      &.has-scroll::before, &.has-scroll::after { opacity: 0 !important; }
    }
    .gs-table { width: 100% !important; min-width: 100% !important; table-layout: auto; }
  }
}


/* =====================================================
   Send Tree（發送列表樹狀）
===================================================== */
.send-tree {
  display: grid; gap: 1rem;

  .send-node {
    background: #fff;
    border: 1px solid $border-light;
    border-radius: .5rem;
    box-shadow: 0 1px 0 rgba(0,0,0,.02);
    overflow: hidden;

    .node-head {
      position: relative;
      text-align: left;
      justify-content: flex-start;
      padding: .9rem 1rem;
      min-height: 56px;
      background: #fff;
      border-bottom: 1px solid rgba($border-light, .6);

      .btn.btn-icon.btn-toggle {
        width: 30px; height: 30px; border-radius: .4rem;
        color: #fff; background: $dark-grey;
        display: inline-flex; align-items: center; justify-content: center;
        i { font-size: 1rem; line-height: 1; }
        &:hover, &:active { background: $dark-grey; }
      }

      .flex-grow-1 { min-width: 0; }
      .text-deep-blue { color: $nav-bg; }
      .badge-state { border-radius: 999px; padding: .25rem .6rem; font-weight: 700; }

      .progress.progress-thin {
        height: 8px; background-color: #eef2f7; border-radius: 999px;
        .progress-bar.progress-orange { background-color: $orange; border-radius: 999px; }
      }
    }

    .node-children {
      padding: 1rem; background: #fbfcfe;
      &.d-none { display: none !important; }
    }

    &.is-open > .node-head { border-bottom-color: transparent; }
  }

  .node-l1 {
    border-width: 1px;
    .node-head { padding-left: .75rem; padding-right: 1rem; }
    .node-children { padding: 1rem; }
  }

  .node-l2 {
    background: transparent !important;
    border: 0 !important;
    margin: 0 12px !important;

    & + .node-l2 { margin-top: 12px !important; }

    .node-head {
      margin: 0 !important;
      padding: 12px 16px;
      display: grid;
      grid-template-columns:
        44px
        minmax(220px, 1fr)
        280px
        160px
        200px
        200px;
      column-gap: 12px; align-items: center;
      border: 1px solid rgba(#e9edf3, .8);
      border-radius: .5rem;

      .btn-toggle {
        position: static !important; transform: none !important;
        justify-self: start; width: 32px; height: 32px;
      }

      .col-name     { grid-column: 2; }
      .col-progress { grid-column: 3;
        .progress { min-width: 180px; height: 8px; border-radius: 999px;
          .progress-bar.progress-orange { background-color: $orange; border-radius: 999px; }
        }
      }
      .col-collect  { grid-column: 4; }
      .col-start    { grid-column: 5; }
      .col-end      { grid-column: 6; }
    }
  }

  .node-l3 {
    margin: .25rem .5rem 0 3.25rem;
    border-style: dashed;
    border-color: rgba($border-light, .9);

    .node-head { background: #fff; }
    .node-children { padding: .75rem 1rem 1rem 16px; }
  }

  .send-node:hover > .node-head { background: #fdfefe; }
  .send-node .node-head .btn-icon { color: $dark-grey; }
  .send-node .node-head .btn-icon:hover { color: #000; }

  .node-meta .progress-block {
    display: flex; flex-direction: column; align-items: flex-start; min-width: 220px;
    .progress { width: 220px; height: 8px; background-color: #eef2f7; border-radius: 999px;
      .progress-bar.progress-orange { background-color: $orange; border-radius: 999px; }
    }
  }

  .l2-headrow {
    position: relative;
    display: flex; align-items: center; gap: 12px;
    padding: 12px 16px;
    margin: 8px 12px 12px !important;
    background: #f7f9fc;
    border-top: 1px solid #e6ecf3;
    border-bottom: 1px solid #e6ecf3;
    color: #6a7a90; font-weight: 700; letter-spacing: .2px;

    &::before { content: ""; flex: 0 0 44px; }
    .cell { white-space: nowrap; }
    .w-name     { flex: 1 1 auto; }
    .w-progress { flex: 0 0 280px; }
    .w-collect  { flex: 0 0 160px; }
    .w-start    { flex: 0 0 200px; }
    .w-end      { flex: 0 0 200px; }

    @media (max-width: 1200px) { margin-right: 0; margin-left: 0; }
  }

  #tab-send & .node-children { overflow-x: auto; }
}


/* =====================================================
   方形控制按鈕（暫停 / 停止 / 恢復 / 設定）
===================================================== */
.btn-icon.btn-square {
  width: 32px; height: 32px; padding: 0;
  display: inline-flex; align-items: center; justify-content: center;
  border-radius: .4rem !important; border: 0;
  box-shadow: 0 2px 8px rgba(0,0,0,.08);
  color: #fff !important;
}
.btn-pause  { background-color: #FFA106; color: #fff; &:hover { background-color:#e0a800; } &:active { background-color: #c69500 !important; } }
.btn-stop   { background-color: #E41669; color: #fff; &:hover { background-color: darken(#E41669, 5%);} &:active { background-color: darken(#E41669, 10%) !important; } }
.btn-resume { background-color: #198754; color: #fff; &:hover { background-color: darken(#198754, 5%) !important; } &:active { background-color: darken(#198754, 10%) !important; } }
.btn-gear   { background-color: $dark-grey; color: #fff; &:hover { background-color: darken($dark-grey, 5%);} &:active { background-color: darken($dark-grey, 10%) !important; }}


/* =====================================================
   通用橫向滾動容器（供樹狀/表格）
===================================================== */
.h-scroll {
  position: relative;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  cursor: grab;
  &.is-dragging { cursor: grabbing; }

  &.has-scroll {
    &::before, &::after {
      content: "";
      position: absolute; top: 0; bottom: 0; width: 16px;
      pointer-events: none; z-index: 2; opacity: 0; transition: opacity .2s;
    }
    &::before { left: 0; background: linear-gradient(to right, rgba(255,255,255,.95), rgba(255,255,255,0)); }
    &::after  { right: 0; }
    &:not(.at-left)::before  { opacity: 1; }
    &:not(.at-right)::after  { opacity: 1; }
  }
}
@media (max-width: 1200px) { .h-scroll > .send-tree { min-width: 1080px; } }
@media (min-width: 1800px) {
  .h-scroll { overflow-x: visible; cursor: default; }
  .h-scroll.has-scroll::before, .h-scroll.has-scroll::after { opacity: 0 !important; }
  .h-scroll > .send-tree { min-width: 100%; }
}


/* =====================================================
   L3 Grid（發送列表明細）
===================================================== */
.l3-wrap {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  cursor: grab;
  &.is-dragging { cursor: grabbing; }
}

.l3-table {
  --w-chan: 80px;        /* 渠道 */
  --w-count: 110px;
  --w-result: 120px;
  --w-progress: 220px;
  --w-priority: 110px;
  --w-updated: 170px;
  --w-actions: 152px;    /* 3 顆 32px 鈕 + gap */
  min-width: calc(
    var(--w-chan) + 320px + var(--w-count) + var(--w-result) + var(--w-progress) +
    var(--w-priority) + var(--w-updated) + var(--w-actions) + 48px
  );
  display: grid; row-gap: 12px;
}

.l3-head,
.l3-row {
  display: grid;
  grid-template-columns:
    var(--w-chan)
    minmax(240px, 1fr)
    var(--w-count)
    var(--w-result)
    var(--w-progress)
    var(--w-priority)
    var(--w-updated)
    var(--w-actions);
  column-gap: 12px;
  align-items: center;
  box-sizing: border-box;
}

.l3-head {
  padding: 10px 12px;
  background: #f7f9fc;
  border: 1px solid #e6ecf3;
  border-radius: .75rem;
  color: #6a7a90;
  font-weight: 700;
}

.l3-row {
  padding: 14px 12px;
  background: #fff;
  border: 1px solid #e6ecf3;
  border-radius: .75rem;

  > div { min-width: 0; }  /* 允許縮排 */
  .col-desc, .col-priority, .col-updated {
    overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
  }

  .col-progress .progress { width: 100%; max-width: var(--w-progress); height: 8px; }
  .col-chan { text-align: center; }
  .col-actions { white-space: nowrap; text-align: right;
    .d-inline-flex { gap: 8px; }
    .btn { width: 32px; height: 32px; padding: 0; display: inline-flex; align-items: center; justify-content: center; }
  }
}


/* =====================================================
   通用元件 / 按鈕 / 輸入
===================================================== */
.modal-dialog { text-align: left; }

.btn-deep-blue {
  background-color: $light-blue;
  color: #fff;
  border: none;
  font-weight: 600;
  border-radius: .25rem;
  padding: .45rem 1rem;
  display: inline-flex; align-items: center; gap: .4rem;
  text-decoration: none;
  transition: background-color .2s ease;

  &:hover  { color: #fff; background-color: darken($light-blue, 5%); }
  &:active { color: #fff !important; background-color: darken($light-blue, 10%) !important; }
}

.form-control {
  border-radius: .25rem;
  border-color: #dee2e6;
  &:focus { box-shadow: 0 0 0 .2rem rgba($light-blue, .25); border-color: $light-blue; }
}

.btn-filter,
.btn-filter:hover,
.btn-filter:active,
.btn-filter:focus { color:#fff !important; }

#filterModal {
  .modal-content { border-radius: .75rem; }
  .modal-header { border-bottom: 1px solid #e6ecf3; }
  .modal-footer { border-top: 0 !important; }

  .date-field {
    .input-group-text { background: #f6f7fb; border-color: #dee2e6; }
    .form-control { border-right: 0; }
    .input-group-text i { font-size: 1.05rem; line-height: 1; }
  }

  /* 移除原生 date 圖示（只保留自訂 icon） */
  input[type="date"] { -webkit-appearance: none; appearance: none; }
  input[type="date"]::-webkit-calendar-picker-indicator { display: none; }
  input[type="date"]::-moz-focus-inner { border: 0; }
  input[type="date"]::-ms-clear { display: none; }
}

/* KPI */
.kpi-row { margin-top: .25rem; }
.kpi-card {
  background: #fff; border: 1px solid #e9edf3; border-radius: .9rem;
  padding: 1.25rem 1.25rem 1.5rem; box-shadow: 0 2px 10px rgba(0,0,0,.04);
  transition: box-shadow .2s, transform .1s; position: relative; height: 100%;
  &:hover { box-shadow: 0 8px 24px rgba(0,0,0,.08); transform: translateY(-2px); }
}
.kpi-head { display: flex; align-items: center; justify-content: space-between; margin-bottom: .5rem; }
.kpi-title { font-weight: 700; color: $dark-grey; font-size: 1rem; }
.kpi-icon {
  width: 56px; height: 56px; display: inline-flex; align-items: center; justify-content: center; border-radius: 16px;
  i { font-size: 1.35rem; }
  &--orange { background: #fdebd8; color: #ff8a1f; }
  &--cyan   { background: #e3f6fb; color: #35b8d0; }
  &--teal   { background: #e4f2ef; color: #1f8a78; }
  &--pink   { background: #fde4ee; color: #e55b94; }
}
.kpi-value { font-weight: 800; color: $nav-bg; line-height: 1.1; font-size: clamp(2rem, 3.6vw, 3.25rem); letter-spacing: .5px; }


/* =====================================================
   建立新專案：表單樣式（Project Form）
===================================================== */
.project-form {
  border-radius: 12px;
  .card-body { background: #fff; }

  .form-section + .form-section { margin-top: 28px; padding-top: 16px; }

  /* 注意：此處橘色覆蓋全域 section-title（保留設計） */
  .section-title { color: $orange; font-weight: 700; margin-bottom: 16px; }

  .form-label.required::after { content: " *"; color: #ff5a5a; font-weight: 700; }

  .date-field .input-group-text { background: #f7f9fc; border-color: #dee3ea; cursor: pointer; }

  .select-wrap {
    position: relative;
    .form-select { appearance: none; -webkit-appearance: none; -moz-appearance: none; padding-right: 2.2rem; }
    .select-caret { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); pointer-events: none; font-size: .875rem; color: #8aa0b4; }
  }

  .input-affix { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); color: #8aa0b4; pointer-events: none; }

  .input-copy-wrap {
    position: relative;
    .btn-copy {
      position: absolute; right: 6px; top: 50%; transform: translateY(-50%);
      border: 0; background: transparent; padding: 6px 8px; color: #6b7f92;
      &:hover { color: #0f2759; }
    }
  }
}

/* 只在需要時使用的全域 section 樣式（深藍） */
.section-title { font-weight: 700; font-size: 20px; color:#0e2a47; margin-bottom: 16px; }
.section-caption{ font-weight: 700; color:#0e2a47; }

/* 輸入（唯讀） */
.form-control.readonly[readonly] { background-color: #f3f4f6; cursor: default; box-shadow: none; }

/* Copy Group Button */
.copy-group {
  .form-control.readonly { border-top-right-radius: 0; border-bottom-right-radius: 0; }
  .btn-copy {
    background: #6b7280; color:#fff; border: 1px solid #6b7280;
    padding: .5rem .75rem; display: inline-flex; align-items:center; justify-content:center;
    border-top-left-radius: 0; border-bottom-left-radius: 0; height: 42px;
    &:hover, &:focus { background-color: darken(#6b7280, 5%); color: #fff; }
    &:active { background-color: darken(#6b7280, 10%) !important; color: #fff !important; }
    &:focus-visible { outline: none; box-shadow: 0 0 0 .2rem rgba(6,34,73,.25); background-color: darken(#6b7280, 10%); }
  }
}
.btn-copy.copied { background: #6b7280; border-color: #6b7280; }
.title-strong { font-weight: 800; color: #133153; }
.copy-group + .btn-deep-blue,
.col-lg-2 .btn-deep-blue { height: 100%; min-height: 42px; display: inline-flex; align-items: center; justify-content: center; white-space: nowrap; }


/* =====================================================
   名單列表（建立新專案 step2）
===================================================== */
.list-table {
  thead th { color: #6c757d; font-weight: 600; white-space: nowrap; }
  td, th { vertical-align: middle; white-space: nowrap; }

  .w-name   { min-width: 180px; }
  .w-qty    { width: 110px; text-align: left; }
  .w-wide   { min-width: 150px; }
  .w-state  { width: 120px; }
  .w-updated{ min-width: 160px; }
  .w-actions{ width: 100px; }

  .pill {
    display:inline-block; padding:.2rem .75rem; border-radius:999px;
    background:#eef2f7; color:#0f2b59; font-weight:600; font-size:.875rem; line-height:1;
    &.pill-dim { background:#e6ebf2; color:#6b7280; }
  }
  .pill-outline { background:#fff; border:2px solid #0f2b59; }

  .badge-state { font-weight:700; }

  .btn-round-sm{
    width:32px; height:32px; border-radius:8px;
    display:inline-flex; align-items:center; justify-content:center;
    background:#0f2b59; color:#fff; border:0;

    &:hover, &:focus { background-color: darken(#0f2b59, 5%); color: #fff; }
    &:active { background-color: darken(#0f2b59, 10%) !important; color: #fff !important; }
    &:focus-visible { outline: none; box-shadow: 0 0 0 .2rem rgba(6, 34, 73, .25); background-color: darken(#0f2b59, 10%); }
  }

  .btn-icon{
    width:34px; height:34px; border-radius:8px; display:inline-flex; align-items:center; justify-content:center;
    background:#f0f2f6; color:#0f2b59;
  }

  .col-channels { white-space: nowrap; .btn-round-sm { margin-left: .5rem; vertical-align: middle; } }
  .col-generated { white-space: nowrap; }
}


/* =====================================================
   名單建立（白底容器）
===================================================== */
.module-white {
  background:#fff; border-radius:12px; padding:24px; box-shadow:0 1px 2px rgba(16,24,40,.06);
}
.bar-row{
  background:#f5f7fb; border-radius:12px; padding:16px; display:flex; flex-wrap:wrap; gap:16px;
  &.bar-row-top { background: transparent; }
}
.bar-row .bar-item{ display:flex; align-items:center; flex-wrap:wrap; }
.bar-row .bar-item.grow{ flex:1 1 280px; }

.pkg-wrap{ background:#f5f7fb; border-radius:12px; padding:16px; margin-top:12px; }
.pkg-grid{ display:flex; flex-wrap:wrap; gap:12px; }
.pkg-chip{
  flex:0 0 calc(25% - 9px); min-width:190px; background:#fff; border:1px solid #e5e7ec;
  border-radius:10px; padding:10px 12px; display:flex; align-items:center; justify-content:space-between;
  font-weight:600; color:#0e2a47;
  .btn-del{
    border:none; background:#ffe9ed; color:#c92a47;
    width:32px; height:32px; border-radius:8px; display:inline-flex; align-items:center; justify-content:center;
    &:hover{ background:#ffd4dc; }
  }
}

/* 小巧的湖綠色主要按鈕（上傳） */
.btn-teal{ background:#06b6d4; color:#fff; border:0; border-radius:10px; padding:.4rem .9rem; }
.btn-teal:hover{ filter:brightness(.95); }

.stat-card{ background:#fff; border:1px solid #e5e7ec; border-radius:10px; padding:12px 16px; font-weight:600; color:#0e2a47; }
.form-select-sm.w-auto{ min-width:180px; }


/* =====================================================
   名單發送列表（Send List）
===================================================== */
.send-list-table {
  .w-channel { width: 120px; }
  .w-progress { width: 320px; }
  .w-qty { width: 120px; }
  .w-updated { width: 180px; }
  .w-actions { width: 100px; }
  .col-progress { min-width: 260px; }

  /* 百分比在上、Bar 在下（整併後只保留一份） */
  .progress-row { min-width: 220px; display:flex; flex-direction: column; align-items: flex-start; gap: .25rem; }
  .progress-row .progress { width: 240px; max-width: 100%; }
}

.pill-channel {
  display: inline-block; padding: 4px 12px; border-radius: 999px;
  background-color: #eef2f6; border: 1px solid #d8dee6; font-weight: 600; color: #2d3a4a;
}


/* =====================================================
   發送渠道（Channel Grid）
===================================================== */
.channel-grid { --gap: 12px; }

.send-channel {
  background: #fff; border: 1px solid #E6EAF0; border-radius: 12px; padding: 12px 14px; min-height: 56px;
  &.no-b { border:0; }

  .channel-title { font-weight: 700; color: #1f2a37; line-height: 1.1; }
  .channel-subtitle { font-size: .825rem; color: #8a94a6; }

  .w-260 { width: 260px; max-width: 100%; }
  .w-320 { width: 452px; max-width: 100%; }
}

/* 圓形單選風格 */
.form-check-input.is-round { border-radius: 50%; width: 18px; height: 18px; margin-top: 0; }

/* send-channel 鎖定樣式 */
.send-channel.is-disabled {
  opacity: 0.5; pointer-events: none; background-color: #f7f8fa; border-color: #e5e8ee;
}
.send-channel select:disabled,
.send-channel input:disabled {
  background-color: #f2f3f5 !important; color: #9ba2b1 !important; cursor: not-allowed;
}

/* input-group icon 風格（統一） */
.input-group > .input-group-text { background: #f5f7fa; border-color: #E6EAF0; }


/* =====================================================
   小元件 / 公用
===================================================== */
.btn-icon {
  display: inline-flex; align-items: center; justify-content: center;
  width: 36px; height: 36px; border-radius: 8px;
  border: 1px solid #e7ebf1; background: #fff; transition: all .15s ease;
  i { font-size: 1rem; }
  &:hover { background: #f7f9fc; }
}

/* Date：修正重疊（只讓自訂按鈕可點） */
input[type="date"]::-webkit-calendar-picker-indicator {
  opacity: 0; position: absolute; right: 0; width: 100%; height: 100%; cursor: pointer;
}

/* Time：隱藏原生小時鐘（避免雙 icon）。請在 input 上加 .no-native-picker */
input[type="time"].no-native-picker { appearance: none; -moz-appearance: textfield; }
input[type="time"].no-native-picker::-webkit-calendar-picker-indicator { display: none; }
input[type="time"].no-native-picker::-webkit-clear-button,
input[type="time"].no-native-picker::-webkit-inner-spin-button { display: none; }


/* =====================================================
   步驟導覽（建立新專案）
===================================================== */
.step-tabs .step-btn{
  border: none; outline: none; padding: .75rem 2rem; border-radius: .5rem;
  font-weight: 700; font-size: 1rem; background: #fff; color: #9ca3af;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05); transition: all .2s ease;
  display: inline-flex; align-items: center; gap: .5rem;

  &.step-ok { background: #00C951; color: #fff; }
  &.active  { background: #092a58; color: #fff; .num { background:#fff; color:#092a58; } }
}


/* content.scss 補上 */
.btn-teal {
  background: #06b6d4;
  color:#fff;
  border:0;
  border-radius:.25rem;
  padding:.4rem .9rem;


  &:active, &:hover {
    color: white !important;
    background-color: darken(#06b6d4, 10%) !important;
  }

  &:focus-visible {
    outline: none;
    box-shadow: 0 0 0 0.2rem rgba(6, 34, 73, 0.25);
    background-color: #06b6d4;
  }

  /* 關鍵：disabled 時仍維持湖綠色，不被 Bootstrap 灰掉 */
  &:disabled,
  &.disabled {
    background:#06b6d4 !important;
    border-color:#06b6d4 !important;
    color:#fff !important;
    opacity:1;         /* 視覺上看起來是鎖住（可改成 1） */
    cursor:not-allowed;
  }
}


.module-white {
  .bar-row {
    // 讓每塊改成上下堆疊（標題在上、卡片在下）
    .bar-item {
      &.col-stack {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
      }
    }

    // 小標題樣式（和設計稿一致）
    .section-caption {
      font-weight: 700;
      color: #0e2a47; // 深藍
      margin-bottom: 0; // 由 col-stack 的 gap 控制距離
    }

    // 卡片群組：可多個卡片並排、可換行
    .stat-group {
      display: flex;
      flex-wrap: wrap;
      gap: 20px; // 卡片之間的間距
    }

    // 白色數字卡片
    .stat-card {
      background: #fff;
      border: 1px solid #e5e7ec;
      border-radius: 10px;
      padding: 12px 16px;
      font-weight: 600;
      color: #0e2a47;
      min-width: 220px; // 視覺穩定、接近圖示寬度
    }
  }
}
